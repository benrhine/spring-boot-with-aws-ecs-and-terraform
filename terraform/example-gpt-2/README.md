# Example GPT 2 (EC2)

This example was generated by ChatGPT and edited for the purposes of this tutorial. *THIS IS NOT A PRODUCTION LEVEL
EXAMPLE!!!*

This example is deployed to EC2 instances on ECS and uses `bridge` networking mode.

This example builds on "gpt-1" by adding in a "Classic ELB" (load balancer). This example is essentially the same outside
the addition of the load balancer. It is worth noting that the load balancer in this example, "Classic ELB" is depreciated
in AWS, but it is simpler to set up than the more modern equivalent. I kept this example here to demonstrate the progression
in how AWS resources have changed over the years and to give a more complete picture of how they work.

*Note: This example uses a "Classic ELB" load balancer - This is not considered acceptable for production*

## Quickstart

### Deploy

* `terraform init`
    * With multiple examples in this repo this should be run every time you change examples
* `terraform validate`
* `terraform plan`
* `terraform apply -auto-approve`

### Test

To get the ip address to see if nginx resolves after deploying

Navigate to ECS > Clusters > Select Cluster > Click Tasks Tab > Click on Task > copy public ip > paste into browser

### Destroy / Cleanup

* `terraform destroy -auto-approve`
## Things that are the same across examples

* `provider.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,
* `terraform.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,
* `utils.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,
* `data.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,
* `ecs.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,
* `iam.tf` is exactly the same for example-1, example-gpt-1, example-gpt-2, example-gpt-3,

## Things that are similar

* `vpc.tf` has the same configuration as example-gpt-1, but it also includes an additional subnet and mapping
* `security-group.tf` has the same configuration in example-1, example-gpt-1, example-gpt-2

## Things that are different

* Unlike example-gpt-1 this example includes a load balancer
  * This is a deprecated legacy load balancer for simplicity's sake. This should not be used in production.







